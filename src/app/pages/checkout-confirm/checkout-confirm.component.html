<div>
    <!-- Shipping Address -->
    <form [formGroup]='shippingForm' (ngSubmit)="submit()" method="post">
        <div class="px-3 pb-5">
            <div class="container contact-form shadow">
                <br>
                <h4 class="text-color-primary">Your Shipping Address</h4>
                <br>
                <div class="row">
                    <!-- First Name -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" name="txtName" class="form-control" placeholder="First Name *"
                                formControlName="firstName" />
                        </div>
                        <br>
                    </div>

                    <!-- Last Name -->
                    <div class="col-md-4">
                        <div class="form-group">
                            <input type="text" name="txtName" class="form-control" placeholder="Last Name *"
                                formControlName="lastName" />
                        </div>
                    </div>

                    <!-- <Phone Number> -->
                    <div class="form-group" class="col-md-4">
                        <input type="text" class="form-control" placeholder="Phone number *"
                            formControlName="phoneNumber">
                    </div>

                    <!-- Address -->
                    <div class="form-group" class="col-md-8">
                        <textarea name="txtMsg" class="form-control" placeholder="Address *"
                            style="width: 100%; height: 100px;" formControlName="address"></textarea>
                    </div>

                    <!-- Province -->
                    <div class="form-group" class="col-md-2">
                        <input type="text" class="form-control" placeholder="Province *" formControlName="province">
                    </div>

                    <!-- Zip Code -->
                    <div class="form-group" class="col-md-2">
                        <input type="text" class="form-control" placeholder="Zip code *" formControlName="zipCode">
                    </div>

                    <!-- submit btn -->
                    <div class="text-center py-3" *ngIf="!isEditingAddress">
                        <button class="btn btn-primary mb-3" (click)="editShippingAddress()">Edit</button>
                    </div>
                    <div class="text-center py-3" *ngIf="isEditingAddress">
                        <button class="btn btn-primary mb-3" (click)="saveAddress()">Save</button>
                    </div>
                </div>

            </div>
        </div>
        <div *ngIf="!isEditingAddress">
            <!-- Summary Price -->
            <div>
                <div class="px-3 pb-5">
                    <div class="container contact-form shadow">
                        <br>
                        <h4 class="text-color-primary">Summary Price</h4>
                        <div class="lh-lg">
                            <hr>
                            <div class="row">
                                <div class="col-6">
                                    <h6>Name product</h6>
                                </div>
                                <div class="col-3 text-center">
                                    <h6>Quantity</h6>
                                </div>
                                <div class="col-3 text-center">
                                    <h6>Price</h6>
                                </div>
                            </div>
                            <div class="row text-muted" *ngFor="let cart of cartData">
                                <div class="col-6  text-wrap">
                                    <span>{{cart.nameProduct}}</span>
                                </div>
                                <div class="col-3 text-center">
                                    <span>{{cart.quantity}}</span>
                                </div>
                                <div class="col-3 text-center">
                                    <span>{{cart.price}} ฿</span>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-4"></div>
                                <div class="col-5 text-center">
                                    <b class="text-muted">SubTotal</b>
                                </div>
                                <b class="col-3 text-center text-muted">{{subTotalPrice}} ฿</b>
                            </div>
                            <div class="row">
                                <div class="col-4"></div>
                                <div class="col-5 text-center">
                                    <b class="text-muted">Shipping</b>
                                </div>
                                <b class="col-3 text-center text-muted">{{shippingPrice}} ฿</b>
                            </div>
                            <div class="row">
                                <div class="col-4"></div>
                                <div class="col-5 text-center">
                                    <b class="text-color-primary">Total Price</b>
                                </div>
                                <b class="col-3 text-center text-color-primary">{{totalPrice}} ฿</b>
                            </div>
                            <br>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-primary mb-3" 
                                (click)="showPayment = true">Payment</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Method -->
            <div class="px-3 pb-5" *ngIf="showPayment">
                <div class="row">
                    <!-- Payment Method (Tranfer QRcode) -->
                    <div class="col-md-6">
                        <div class="container contact-form shadow">
                            <br>
                            <h4 class="text-color-primary">Payment Method (QR code Prompt Pay)</h4>
                            <img src="../../../assets/qrcode.png">
                            <br>
                        </div>
                    </div>

                    <!-- Attached Pic of evidence tranfer -->
                    <div class="col-md-6">
                        <div class="container contact-form shadow">
                            <br>
                            <h4 class="text-color-primary">Attached Pic Tranfer</h4>
                            <br>

                            <!-- upload img -->
                            <div class="col-md-6">
                                <label>
                                    <input type="file" accept="image/*" class="text-nowrap text-truncate"
                                        (change)="selectFile($event)" />
                                </label>

                                <!-- preview img -->
                                <div *ngIf="filePath && filePath !== ''" class="py-2">
                                    <img [src]="filePath" alt="Sorry" class="preview-size-img">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Confirm Button [show when attaced evidence pic ]-->
            <div class="text-center" *ngIf="filePath">
                <button type="submit" class="btn btn-primary mb-3">Confirm to purchase</button>
            </div>
        </div>
    </form>
</div>